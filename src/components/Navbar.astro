---
const resumeLink =
  "https://drive.google.com/file/d/1esBn2_aQpZx578s3Irjap-MsxrN8KuwE/view?usp=sharing";
---

<nav
  class="font-semibold p-4 sticky top-0 left-0 z-50 bg-white dark:bg-slate-800 border-b dark:border-b-slate-700"
>
  <div
    id="scroll-progress-bar"
    class="w-0 bg-red-400 dark:bg-red-500 h-[3px] fixed top-0 left-0"
  >
  </div>

  <div class="flex justify-between items-center m-auto max-w-7xl">
    <h4 class="lowercase link-decor-underline after:bg-red-500">
      <a href="#home">Humphrey</a>
    </h4>
    <ul class="flex text-xs md:text-sm gap-2 md:gap-4">
      <button id="toggle-dark">Click here</button>

      <li class="link-decor-underline">
        <a href="#about">About</a>
      </li>
      <li class="link-decor-underline">
        <a href="#projects">Projects</a>
      </li>
      <li class="link-decor-underline">
        <a href="#contact">Contact</a>
      </li>
      <li>
        <a
          href={resumeLink}
          target="_blank"
          rel="noopener noreferrer"
          class="py-2 px-2 md:px-3 rounded-md border-red-400 dark:border-red-500 border-[2px] hover:bg-red-200 dark:hover:bg-red-300 dark:hover:text-black transition-colors duration-150"
          >Resume
        </a>
      </li>
    </ul>
  </div>
</nav>

<script>
  const scrollProgressBar = document.querySelector(
    "#scroll-progress-bar"
  ) as HTMLDivElement | null;

  document.addEventListener("scroll", () => {
    if (!scrollProgressBar) {
      return;
    }

    scrollProgressBar.style.width = `${
      (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100
    }%`;
  });

  const toggleDarkModeButton = document.querySelector("#toggle-dark");

  toggleDarkModeButton?.addEventListener("click", () => {
    document.documentElement.classList.toggle("dark");
  });
</script>
